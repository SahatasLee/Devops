# HAproxy Reverse Proxy

```sh
# Run HAproxy
$ docker run -it --rm --name haproxy-syntax-check my-haproxy haproxy -c -f /usr/local/etc/haproxy/haproxy.cfg

# Docker compose
$ docker compose up -d
```

## Set kubeconfig

Add `insecure-skip-tls-verify: true`

```sh
clusters:
- cluster:
    insecure-skip-tls-verify: true
    server: https://localhost:6443
  name: cluster.local
contexts:
- context:
    cluster: cluster.local
    user: kubernetes-admin
  name: kubernetes-admin@cluster.local
current-context: kubernetes-admin@cluster.local
kind: Config
preferences: {}
users:
- name: kubernetes-admin
  user:
    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJVENDQWdtZ0F3SUJBZ0lJU05aT1RUNThZQnN3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TlRBME1EUXdOelF5TkRkYUZ3MHlOakEwTURRd056UXlORGxhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXYxNld1RkJ6T1lOanZqanUKdjYzWjNnU1BkSHVjMURwaDMzY28zVUdmVTdwdXRkUUJKckgzQ0tlQ2t6cEtVdVN2WlNsWENXKzRzeUtzSHIrVgpaTC9CZTZIUVFWQ1IyYUpQRWNxMTFvSEZyamRCS0RSKzl0RGpkUEJjOUpFRENHbXBwZWMrWmJjSzl4a3NWODdzCm5mMHBmUEEzMHJybUM2WXZJcEVEdnJyWDRBdDAvSXFOSHBFbSt4Z0E4ZHVHQTVEV2hzd3pwanVrWXBvK2p4L3QKaFdxb1ljbXRYcklnOFEzQlM2WFdjSVFBMlRyNndvaWQ2aDNiZ2hjYWpCQUo0elRwL1JRaGFCNW9FbnoxRHRLQQp3RWN0eG9JWVVHL3lkQnFGNEh2d0crOVlZbmQ5TVo3MkxOVTBYSFhwU0lJSnF6UUVLd3dFTVNXZ0g3eVd6dHRHCjMrVHhnd0lEQVFBQm8xWXdWREFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JUdHI2cHY0WTMrOHdXdmUvanFOUTYrRHpEOQpnREFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBdkd6aTJ4bVNPeHh6dFU5SFlqbUYxcjJmM3ZGUkdCN1gzSlNZCmkzQzQxVFRkTGpmSFhzN1pnTXdYUTQwRytBQ3JkR1VBQUE3VHh6UDNtNUk5U0dBUVQ5d2l5dVRrS3pjcDBCZFEKRnoxdTNqTnhoWEY0ZS9JaTFrOEZITC9PMTR1cjR0a3FoVWgwU3Y1aldUdzJPdUhZQWdxYzVhbGx5V1A4cVR1cQpyKytCdDlBWU9xRWFDWmVqSkFQSk5aT0pDdjVyZ1AzSUdOTXpFSWVPMjlhRGZRSXlaUWFQaTdyeFRlMjJEaEpXClJMWWhGQnNOeFg0MjZyV2V1RTBVSUFZZTVDelc3eVZYZk5xR1ZMWG9tYWtrdGlMT3R6TW5WKzlzbmtsUm16T0kKQk42ZVlyZHJQOU0vUnhxN3ZlN29FZ2Q2QW55S1UrMGJybXAxcGt6TXRLOXFpYU1jclE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBdjE2V3VGQnpPWU5qdmpqdXY2M1ozZ1NQZEh1YzFEcGgzM2NvM1VHZlU3cHV0ZFFCCkpySDNDS2VDa3pwS1V1U3ZaU2xYQ1crNHN5S3NIcitWWkwvQmU2SFFRVkNSMmFKUEVjcTExb0hGcmpkQktEUisKOXREamRQQmM5SkVEQ0dtcHBlYytaYmNLOXhrc1Y4N3NuZjBwZlBBMzBycm1DNll2SXBFRHZyclg0QXQwL0lxTgpIcEVtK3hnQThkdUdBNURXaHN3enBqdWtZcG8rangvdGhXcW9ZY210WHJJZzhRM0JTNlhXY0lRQTJUcjZ3b2lkCjZoM2JnaGNhakJBSjR6VHAvUlFoYUI1b0VuejFEdEtBd0VjdHhvSVlVRy95ZEJxRjRIdndHKzlZWW5kOU1aNzIKTE5VMFhIWHBTSUlKcXpRRUt3d0VNU1dnSDd5V3p0dEczK1R4Z3dJREFRQUJBb0lCQUVvMlhVNjI3Q2hHbXJ5ZgpDWDlONVNwakxGcW93VVhRS2pwbDFIUVJTYjlIa2oxekxNc2J3c2daWmRyQWhTZ21SUnArOEtEWk1aQk9odDhaCnZzNm1TbHN1Z2p1Q0NqMlM0d1RzVHA0VUQxd2pVMkpMRVYyWDNrMXdGU3hHdkIxY0ZJMGc0eUxBM0VDOUEyUTkKKzZhOUVZVEJCM1R5UTlvS3BVYkxZOTlvUitVNi95dHpnVFIyVHlZYVl3WnFyT0dqMWVGVnBvd0NhbHlVc3JsYwo5bG45ME96RmJZdG1OaDBzODIwQktmWmlTaElWSTNwOUN0VG02empKVHdsVUIxUkRDM3o3cmkzU3VCUmVJdmhDCnZWb083Z3RCMmwrNkEwMit5dWVUVFV4KzhKUUJtVTdkeEVrMk03NEVTNGlrb3hsb0Njc1E3ZVNsUmFWS20xbE0KOE0veHdnRUNnWUVBdzBvNFdab2p3cnVYdGFNeU9DRyszNjlzbFc4RDEvTDVGU29RK2dJd1ZidVhONXFCNlBabgpZTEN2KzA5VUxkSk10TGF3akFMQUVKSEhIV0ZHY0JkQ25Vc0gyVFFycW9JUlRQclJRVm9YMlhWVkFhcXFySU5LClN4b09ucnZQQlBISFpWUklWVEtuTGJ4UWR5bDhGY2F5b012SzNURjVlTGxQSjVyeGg3YVNWd0VDZ1lFQSt0eGUKUXdlY05DcWRaenNrcnM4MVlKL0JtM3EwdjNFelJraHNzNW5vK2MrMEdvOFkzV0ZwY09TNlFXNzNaRmZ2SFRSeApOQStvK1l4cVRRU1BnN0dzUVlPdytIWXRocm9jRVdwWGVZTFpaYmlUQ2ZYR1h1OEhrQjQvNXFMYktsZi9aemt6CmxZTy93bTQ1b3QweUluTFh1RlhFeTBlNHM2QzU2N1FUakRST2JJTUNnWUVBanU4Z3hUd1RGbkUwL2NXZmVRUUIKN3pnM01qeFp4TkhhU3dwSitLSm5mQ2hiNmwrVTI4eVZKMmpLdFJaLzF6WEgzTENtRVNQbUxYcDFFT1RrcUIvdQpLckFDNDQvU3NlNlcrUS9PM3BVeFJZRWlJYUVuWURLTHl1SWNkME9ncHM3TGtUZVo1WG00Y0xvVzd0Q1hPRjBBCjJyMnVFaTBtNmh3L2VnNW0zMXphU1FFQ2dZQlVtZmtZTmZyU0JRVXNpVituckszZHRrTC9BblR1azJpdGJVTnIKbHA1aGtWQzJIRWhRY01lMGtRN1hmbXJrWmx0M3gvWGRqdUozdG9rckREeXlOenRXcE9rTUFoNzhic3VFZkE2ZwpKaWJYRFZaWlo0L00rR1Bla0xVUVBTQVl1YkNpeVVIQ1RMcGhBZmRpRzZNS3h4eEZTSGVqN3I0MXBpRE5ndCtNCnl4OGZyUUtCZ0diSjlrS0ppVXBoR1NhbS9zYkJwaXZEMTQ1bzAvVkU2VS80UEtvak9nUVdPaWRSQTB0MUgvenYKd1p6YmNnWW83a2NmSXpCSmg4Q3M3MnYwZVkxbW5NMDRPK0pvL2hrNXM2bGIwb241VEtZd21HaVhWMUQ3bWFxNApWQ2RsMzJIdUVIZC9vaWY0NnlmVEpmOXZUUDVMd25GRmJIRmFWNUdacm9PVzc0bDhCMm94Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==

```